{% extends "base.html" %}

{% block content %}

    <h3>The Employee</h3>

    <table class="table table-bordered mt-3 mb-3">
        <tr>
            <td>Name</td>
            <td>Job Title</td>
            <td>Salary</td>
        </tr>
        <tr>
            <td>{{ employee.name }}</td>
            <td>{{ employee.job }}</td>
            <td>Â£{{ '{:,.0f}'.format(employee.salary) }}</td>
        </tr>
    </table>

    <h3>{{ employee.name }}'s Events</h3>

    <table class="table table-bordered mt-3 mb-3">
        <tr>
            <td>Created</td>
            <td>Entity</td>
            <td>Employee ID</td>
            <td>Event</td>
            <td>Data</td>
        </tr>
        {% for event in employee.events %}
            <tr>
                <td>{{ event.created }}</td>
                <td>{{ event.aggregate_type }}</td>
                <td>{{ event.aggregate_id }}</td>
                <td>{{ event.event_type }}</td>
                <td>{{ event.data }}</td>
            </tr>
        {% endfor %}
    </table>

    <div class="row mt-3">

        <div class="col-6 mt-3">
            <h3>Update Employee</h3>
            <form method="post" class="mt-3">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" name="name" class="form-control" id="name" placeholder="Enter name">
                </div>
                <div class="form-group">
                    <label for="job">Job</label>
                    <input type="text" name="job" class="form-control" id="job" placeholder="Enter job title">
                </div>
                <div class="form-group">
                    <label for="salary">Salary</label>
                    <input type="number" name="salary" class="form-control" id="salary" placeholder="Enter salary">
                </div>

                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>

{% endblock %}
