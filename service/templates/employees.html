{% extends "base.html" %}

{% block content %}

    <h3>Employees <a href="{{ url_for('create_employee_form') }}" class="btn btn-primary btn-sm">Add</a></h3>

    <table class="table table-bordered mt-3 mb-3">
        <tr>
            <td>ID</td>
            <td>Name</td>
            <td>Job Title</td>
            <td>Salary</td>
        </tr>
        {% for employee in employees.entities %}
            <tr>
                <td><a href="{{ url_for('employee', employee_id=employee.id) }}">{{ employee.id }}</a></td>
                <td><a href="{{ url_for('employee', employee_id=employee.id) }}">{{ employee.name }}</a></td>
                <td><a href="{{ url_for('employee', employee_id=employee.id) }}">{{ employee.job }}</a></td>
                <td><a href="{{ url_for('employee', employee_id=employee.id) }}">{{ employee.salary }}</a></td>
            </tr>
        {% endfor %}
    </table>

    <h3>All Events</h3>

    <table class="table table-bordered mt-3 mb-3">
        <tr>
            <td>Created</td>
            <td>Entity</td>
            <td>Employee ID</td>
            <td>Event</td>
            <td>Data</td>
        </tr>
        {% for event in employees.events %}
            <tr>
                <td>{{ event.created }}</td>
                <td>{{ event.aggregate_type }}</td>
                <td>{{ event.aggregate_id }}</td>
                <td>{{ event.event_type }}</td>
                <td>{{ event.data }}</td>
            </tr>
        {% endfor %}
    </table>

{% endblock %}
