{% extends "base.html" %}

{% block content %}

    <h3>Employees</h3>

    <table class="table table-bordered mt-3 mb-3">
        <tr>
            <td>Name</td>
            <td>Job Title</td>
            <td>Salary</td>
        </tr>
        {% for employee in employees.entities %}
            <tr>
                <td><a href="{{ url_for('employee', employee_id=employee._id) }}">{{ employee.name }}</a></td>
                <td>{{ employee.job }}</td>
                <td>Â£{{ '{:,.0f}'.format(employee.salary) }}</td>
            </tr>
        {% endfor %}
    </table>

    <h3>All Events</h3>

    <table class="table table-bordered mt-3 mb-3">
        <tr>
            <td>Created</td>
            <td>Entity</td>
            <td>Employee ID</td>
            <td>Event</td>
            <td>Data</td>
        </tr>
        {% for event in employees.events %}
            <tr>
                <td>{{ event.created }}</td>
                <td>{{ event.aggregate_type }}</td>
                <td>{{ event.aggregate_id }}</td>
                <td>{{ event.event_type }}</td>
                <td>{{ event.data }}</td>
            </tr>
        {% endfor %}
    </table>

{% endblock %}
